@page
@inject SignInManager<Assignment1Attempt4User> SignInManager
@inject UserManager<Assignment1Attempt4User> UserManager
@model Assignment1Attempt4.Areas.Identity.Pages.Checkout.CheckoutModel
@{
    ViewData["Title"] = "StudentCards";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{
    //var StudentID = HttpContext.Session.GetInt32("UserID").Value;
    //int numCredits = int.Parse(Request.Query["numCredits"]);
    // int moneyOwed = 100 * numCredits;
    

}


@if (SignInManager.IsSignedIn(User))
{

    if (@ViewData["StuOrProf"].Equals("Student"))
    {
        <div>
            money owed @Model.moneyOwed <br />

            numcredits @Model.numCredits
        </div>
        <br />

        <form action="/create-checkout-session" method="POST">
            <button type="submit" id="checkout-button">Checkout</button>
        </form>
    }
    else
    {
        //RedirectToPage("https://localhost:7177/Identity/ProfClasses/ProfCards");
        <meta http-equiv="Refresh" content="0; url=https://localhost:7177/Identity/ProfClasses/ProfCards" />
    }

}